# ══════════════════════════════════════════════════════════════════
# Para generar SECRET_KEY segura:
#   python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
#
# Para generar JWT_SECRET_KEY:
#   python -c "import secrets; print(secrets.token_hex(64))"
# ══════════════════════════════════════════════════════════════════


# ──────────────────────────────────────────────────────────────────
# DJANGO
# ──────────────────────────────────────────────────────────────────

# ← CAMBIAR en producción: genera una clave única y larga
DJANGO_SECRET_KEY=dev-insecure-secret-key-change-this-in-production

# development | production | test
DJANGO_ENV=development

# True en local, False en producción
DJANGO_DEBUG=True

# Hosts permitidos separados por coma
# Ejemplo producción: DJANGO_ALLOWED_HOSTS=tudominio.com,www.tudominio.com
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# Módulo de settings (no cambiar salvo que muevas el archivo)
DJANGO_SETTINGS_MODULE=config.settings


# ──────────────────────────────────────────────────────────────────
# BASE DE DATOS
# ──────────────────────────────────────────────────────────────────

# PostgreSQL
DB_ENGINE=django.db.backends.postgresql
DB_NAME=library_blog
DB_USER=postgres
DB_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432


# ──────────────────────────────────────────────────────────────────
# REDIS
# ──────────────────────────────────────────────────────────────────

# URL de Redis — usada para caché y como broker de Celery
REDIS_URL=redis://redis:6379/0


# ──────────────────────────────────────────────────────────────────
# CELERY
# ──────────────────────────────────────────────────────────────────

# Broker donde Celery recibe las tareas (normalmente Redis)
CELERY_BROKER_URL=redis://redis:6379/0

# Backend donde Celery guarda los resultados de las tareas
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Cómo arrancar Celery (referencia, no es una variable de entorno):
# celery -A config.celery worker --loglevel=info --queues=domain_events,celery
# celery -A config.celery flower --port=5555      # monitoreo


# ──────────────────────────────────────────────────────────────────
# JWT — Autenticación
# ──────────────────────────────────────────────────────────────────

# ← CAMBIAR: clave secreta larga y aleatoria
JWT_SECRET_KEY=dev-insecure-jwt-secret-change-this-in-production

# Duración del access token en minutos (default: 30)
JWT_ACCESS_EXPIRE_MINUTES=30

# Duración del refresh token en días (default: 7)
JWT_REFRESH_EXPIRE_DAYS=7


# ──────────────────────────────────────────────────────────────────
# EMAIL (opcional)
# ──────────────────────────────────────────────────────────────────

# Backend de email
# Console (desarrollo): django.core.mail.backends.console.EmailBackend
# SMTP (producción):    django.core.mail.backends.smtp.EmailBackend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=tu-email@gmail.com
EMAIL_HOST_PASSWORD=tu-app-password
DEFAULT_FROM_EMAIL=noreply@libraryblog.com
